---
- name: Remove pacman packages
  pacman:
    name: "{{ item }}"
    state: absent
    update_cache: yes
  loop:
  - gnu-netcat # libvirt
  - iptables # we're installing iptables-nft, which is newer

- name: Install pacman packages
  pacman:
    name: "{{ item }}"
    state: present
    update_cache: yes
  loop:
  - android-tools
  - bat
  - bitwarden-cli
  - bridge-utils # libvirt
  - cdrkit
  - dnsmasq # libvirt
  - docker
  - docker-compose
  - element-desktop
  - exa
  - flameshot
  - fish
  - freerdp
  - gcc
  - git
  - glow
  - iptables-nft
  - jq
  - kubectl
  - libvirt # libvirt
  - make
  - neovim
  - openbsd-netcat # libvirt
  - openssh
  - pkg-config # libvirt
  - qemu-full # libvirt
  - restic
  - ruby # vagrant
  - scrcpy
  - signal-desktop
  - starship
  - steam
  - terraform
  - terragrunt
  - ttf-roboto
  - ttf-roboto-mono
  - vagrant
  - virt-manager
  - wget
  - yt-dlp
